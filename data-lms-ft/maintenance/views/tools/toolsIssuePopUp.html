<form role="form"  name="toolCard" autocomplete="off" novalidate>
  <div class="modal-header" >
    <button type="button" ng-click="closeModal()" class="close"
    data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <h4 class="modal-title" align="center">Issue Tool</h4><br>
    <div class="row">
      <div class="col-md-4">
      </div>
      <div class="col-md-4">
      </div>
      <div class="col-md-4">
      </div>
    </div>
  </div>
  <style type="text/css">
    .modal-backdrop.in{z-index:9 !important;}
    .modal-open .modal{z-index:99 !important;}
  </style>
  <div class="modal-body">
    <div class="row" style="margin:15px">
      <div ng-hide="(tool.category=='old')" class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Tool Id:</label>
          <div class="col-sm-6">
            <div class="fg-line">
              <input type="text" class="form-control" ng-readonly="true" ng-model="tool.toolId">
            </div>
          </div>
        </div>
      </div>
      <div ng-hide="(tool.category=='old')" class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Tool Code:</label>
          <div class="col-sm-6">
            <div class="fg-line">
              <input type="text" class="form-control" ng-readonly="true" ng-model="tool.spare_code">
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Tool Name:</label>
          <div class="col-sm-6">
            <div class="fg-line">
              <input type="text" class="form-control" ng-readonly="true" ng-model="tool.spare_name">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row" style="margin:15px">
      <div class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Category</label>
          <div class="col-sm-6">
            <div class="fg-line">
              <input type="text" class="form-control" ng-readonly="true" ng-model="tool.category">
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Manufacturer</label>
          <div class="col-sm-6">
            <div class="fg-line">
              <input type="text" class="form-control" ng-readonly="true" ng-model="tool.manufacturer">
            </div>
          </div>
        </div>
      </div> -->
      <div class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Issuere Category</label>
          <div class="col-sm-6">
            <select chosen class="form-control" ng-options="item as item for item in aIssueCat" ng-model="tool.issuer_type" ng-change="getUserByCat(tool.issuer_type)">
              <option value="" selected>Select Category</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="margin:15px">
      <div class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Issuer</label>
          <div class="col-sm-6">
            <select ng-if="tool.issuer_type=='driver'" chosen class="form-control" ng-options="item as item.name for item in aDrivers" ng-model="tool.issuer">
              <option value="" selected>Select Issuer</option>
            </select>
		  	<select ng-if="tool.issuer_type=='mechanic'" chosen class="form-control" ng-options="item as item.full_name for item in aUsers" ng-model="tool.issuer">
			  <option value="" selected>Select Issuer</option>
		  	</select>
		  	<select ng-if="tool.issuer_type=='contractor'" chosen class="form-control" ng-options="item as item.name for item in aContractor" ng-model="tool.issuer">
			  <option value="" selected>Select Issuer</option>
		  	</select>
			  <div class="fg-line" ng-if="tool.issuer_type=='other'">
				  <input type="text" class="form-control" ng-model="tool.issuer_name" placeholder="Enter Issuer">
			  </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group m-b-0">
          <label class="col-sm-4 control-label">Vehicle No.</label>
          <div class="col-sm-6">
            <select chosen search-contains="true" class="form-control" ng-options="item as item.vehicle_reg_no for item in aVeh" ng-model="tool.vehicle_num_obj">
              <option value="" selected>Select Vehicle</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" ng-click="issueTool(tool)" ng-disabled="!((tool.issuer_type)&&(tool.issuer || tool.issuer_name))" class="btn btn-success" style="margin-bottom: 12px;">Issue</button>&nbsp;&nbsp;&nbsp;
    <button class="btn btn-warning" ng-click="closeModal()" style="margin-bottom: 12px;">Close</button>
  </div>
</form>
<style type="text/css">
  .modal-dialog {width: 75%;
      height: 173px
  }
  .multiselect-parent ul.dropdown-menu.dropdown-menu-form {
    opacity: 1;
    transform: none;    overflow: auto !important;
  }
  .chosen-container-single .chosen-single{height: 28px;margin-top: -7px;}
</style>
