<div class="container">
	<div class="card m-b-0" id="messages-main">
		<div class="" style=" min-height: 575px;">
			<div class="listview lv-message">
				<div class="lv-body">
					<div class="col-md-12" style="min-height: 272px;">
						<div class="clearfix"></div>
						<form role="form" ng-submit="filter(form)">

							<div class="select col-xs-2 m-b-2 col-sm-2 col-md-2 col-lg-2">
								<select class="form-control"
										ng-options="item as item.value for item in $constants.aJobCardReportTypes"
										ng-model="report" style="height: 34px;">
									<option value="">Report Type</option>
								</select>
							</div>
							<div class="select col-xs-1 m-b-1 col-sm-1 col-md-1 col-lg-1">
								<select class="form-control" ng-options="item as item for item in aStatus"
										ng-model="status" style="height: 34px;">
									<option value="">Status</option>
								</select>
							</div>
							<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
								<div class="date-picker input-group dp-blue"
									 ng-class="{ 'is-opened': opened1 == true }">
									<div class="fg-line" ng-class="{ 'fg-toggled': opened1 == true }">
										<input ng-click="open($event, 'opened1')" type="text" class="form-control"
											   uib-datepicker-popup="{{format}}" show-weeks="false"
											   ng-model="start_date" is-open="opened1" datepicker-options="dateOptions"
											   close-text="Close" placeholder="From Date"
											   style="padding: 0px 4px;height: 34px;"/>
									</div>
									<span class="input-group-btn">
									  <button type="button" class="btn btn-default m-t-0 f12" ng-click="open($event, 'opened1')"><i
											  class="glyphicon glyphicon-calendar"></i></button>
									</span>
								</div>
							</div>
							<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
								<div class="date-picker input-group dp-blue" ng-class="{ 'is-opened': opened2 == true }"
									 style=" ">
									<div class="fg-line" ng-class="{ 'fg-toggled': opened2 == true }">
										<input ng-click="open($event, 'opened2')" type="text" class="form-control"
											   uib-datepicker-popup="{{format}}" show-weeks="false" ng-model="end_date"
											   is-open="opened2" datepicker-options="dateOptions" close-text="Close"
											   placeholder="To Date"
											   style="padding: 0px 4px; height: 34px;"/>
									</div>
									<span class="input-group-btn">
									  <button type="button" class="btn btn-default m-t-0 f12" ng-click="open($event, 'opened2')"><i
											  class="glyphicon glyphicon-calendar"></i></button>
									</span>
								</div>
							</div>
							<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
								<div class="date-picker input-group dp-blue"
									 ng-class="{ 'is-opened': opened3 == true }">
									<div class="fg-line" ng-class="{ 'fg-toggled': opened3 == true }">
										<input ng-click="open($event, 'opened3')" type="text" class="form-control"
											   uib-datepicker-popup="{{format}}" show-weeks="false"
											   ng-model="c_start_date" is-open="opened3"
											   datepicker-options="dateOptions" close-text="Close"
											   placeholder="Close Start Date"
											   style="padding: 0px 4px;height: 34px;"/>
									</div>
									<span class="input-group-btn">
									  <button type="button" class="btn btn-default m-t-0 f12" ng-click="open($event, 'opened3')"><i
											  class="glyphicon glyphicon-calendar"></i></button>
									</span>
								</div>
							</div>
							<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
								<div class="date-picker input-group dp-blue" ng-class="{ 'is-opened': opened4 == true }"
									 style=" ">
									<div class="fg-line" ng-class="{ 'fg-toggled': opened4 == true }">
										<input ng-click="open($event, 'opened4')" type="text" class="form-control"
											   uib-datepicker-popup="{{format}}" show-weeks="false"
											   ng-model="c_end_date" is-open="opened4" datepicker-options="dateOptions"
											   close-text="Close" placeholder="Close End Date"
											    style="padding: 0px 4px; height: 34px;"/>
									</div>
									<span class="input-group-btn">
									  <button type="button" class="btn btn-default m-t-0 f12" ng-click="open($event, 'opened4')"><i
											  class="glyphicon glyphicon-calendar"></i></button>
									</span>
								</div>
							</div>

							<button ng-disabled="!report"
									ng-click="downloadReport()" class="btn btn-primary hidden-print pull-right"
									style="font-size: 11px; padding: 5px;margin-top: 5px;">Search
							</button>
							<button ng-disabled="!report"
									ng-click="downloadReport(true)" class="btn btn-primary hidden-print pull-right"
									style="font-size: 11px; padding: 5px;margin-top: 5px;">Download
							</button>
						</form>
						<div class="clearfix"></div>

						<div class="detailsList">
							<div class="" style="overflow-y: auto; max-height: 500px;">
								<table class="table table-bordered unresponsive">
									<thead>
									<tr>
										<th>S. No.</th>
										<th>Job Id</th>
										<th style="min-width: 80px;">Job Type</th>
										<th style="min-width: 80px;">Branch</th>
										<th style="min-width: 80px;">Status</th>
										<th style="min-width: 80px;">Vehicle No.</th>
										<th style="min-width: 70px;">Trip No.</th>
										<th style="min-width: 90px;">Vehicle Category</th>
										<th style="min-width: 95px;">Vehicle Structure</th>
										<th style="min-width: 80px;">Odometer Reading</th>
										<th>Driver Name</th>
										<th>Maintenance Type</th>
										<th>Vehicle In Date</th>
										<th style="min-width: 140px;">Estimate Release Date</th>

									</tr>
									</thead>
									<tbody ng-repeat="(name,val) in aJobCardReport">
									<tr style="background:#f2da97">
										<td colspan="23" style="text-align: start; font-weight: bold;">{{ name }}
										</td>
									</tr>
									<tr ng-repeat="value in aJobCardReport[name]">
										<td>{{$index+1}}</td>
										<td>{{value.jobId}}</td>
										<td>{{value.job_type}}</td>
										<td>{{value.branchName}}</td>
										<td>{{value.status}}</td>
										<td>{{value.vehicle_number}}</td>
										<td>{{value.last_trip_number}}</td>
										<td>{{value.vehicle_category}}</td>
										<td>{{value.vehicle_structure_name}}</td>
										<td>{{value.odometer_reading}}</td>
										<td>{{value.driver_name}}</td>
										<td>{{value.maintenance_type}}</td>
										<td>{{value.vehicle_in_datetime | date:'dd-MM-yyyy'}}</td>
										<td>{{value.estimated_release_date | date:'dd-MM-yyyy'}}</td>
									</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
