<form name="customerReg" ng-controller="registerMRPCustomerController" novalidate>
	<div class="validationError" ng-show="createcustmsg"><h5 class="c-red">* {{dmsg}}</h5></div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Name: <span style="color: red;">*</span></label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.name" class="form-control" name="name" required>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Address Line 1 </label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.line1" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Address Line 2</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.line2" class="form-control">
					</div>
				</div>
			</div>
		</div>

	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">City: <span style="color: red;">*</span></label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.city" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">District</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.district" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">State<span style="color: red;">*</span></label>
				<div class="col-sm-6">
					<select
							chosen
							ng-model="customerSel.state"
							class="form-control"
							ng-change="setStateCode(customerSel.state)"
							ng-options="item.state as item.state for item in aGSTstates">
					</select>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Pincode: <span style="color: red;">*</span></label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="number" ng-model="customerSel.pincode" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Country</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.country" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Status</label>
				<div class="col-sm-6">
					<div class="select">
						<select class="form-control" ng-model="customerSel.status">
							<option value="Active" selected>Active</option>
							<option value="Inactive">Inactive</option>
						</select>
					</div>
				</div>
			</div>
		</div>

	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">GSTIN Registered: <span style="color: red;">*</span></label>
				<div class="col-sm-5">
					<label class="checkbox checkbox-inline m-r-20">
						<input type="checkbox" ng-model="customerSel.gstin_registered"  value="">
						<i class="input-helper"></i>
					</label>
				</div>
			</div>
		</div>
		<div class="col-md-4" ng-if="customerSel.gstin_registered">
			<div class="form-group m-b-0">
				<label class="col-sm-4 control-label">GSTIN:</label>
				<div class="col-sm-8">
					<div class="fg-line">
						<input
								placeholder="State code"
								class="col-md-3 form-control"
								ng-model="customerSel.state_code"
								type="text"
								name="state_code"
								ng-required="customerSel.gstin_registered"
								readonly
								style="border-bottom: 1px solid #e0e0e0;margin-right: 5px;width: 20%;"
						>
						<input
								placeholder="GSTIN"
								class="col-md-9 form-control"
								ng-model="customerSel.gstin_no"
								type="text"
								name="gstin_no"
								ng-pattern="/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}([0-9]){1}([a-zA-Z1-9]){1}([a-zA-Z0-9]){1}$/"
								ng-required="customerSel.gstin_registered"
								style="width:75%"
						>
					</div>
					<span ng-if="customerReg.gstin_no.$error.pattern" class="req_r" style="font-size:10px">Enter GSTIN without state code (first 2 numbers)</span>
				</div>
			</div>
		</div>
		<!--<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">State Code: <span style="color: red;">*</span></label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input placeholder="GSTIN" class="form-control" ng-model="customerSel.state_code" type="text" name="state_code" readonly>
					</div>
				</div>
			</div>
		</div>-->
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-12">
			<div class="form-group m-b-0">
				<label class="col-sm-2 control-label">Type: <span style="color: red;">*</span></label>
				<div class="col-sm-10">
					<label class="checkbox checkbox-inline m-r-20" ng-repeat="custT in $constants.customerTypes" style="margin-bottom: 15px;">
						<input type="checkbox" value="{{custT}}" ng-checked="selection.indexOf(custT) > -1" ng-click="toggleSelection(custT)" name="type" required>
						<i class="input-helper"></i>
						{{custT}}
					</label>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Belongs To</label>
				<div class="col-sm-6">
					<div class="select">
						<select class="form-control" ng-model="customerSel.belongs_to">
							<option value="lms" selected>LMS</option>
							<option value="gps_management">Gps Management</option>
						</select>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">PAN No.:</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text"
							   ng-model="customerSel.pan_no"
							   class="form-control"
							   name="prime contact">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Vendor Code</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text"
							   ng-model="customerSel.vendor_code"
							   class="form-control">
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Comapny Type</label>
				<div class="col-sm-6">
					<div class="select">
						<select class="form-control" ng-model="customerSel.company_type">
							<option value="" disabled selected>Select Comapny type</option>
							<option value="Public Limited" selected>Public Limited</option>
							<option value="Private">Private</option>
							<option value="Group">Group</option>
						</select>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Service Tax No.</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.service_tax_no" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Tin No.</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.tin_no" class="form-control">
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Account Contact Name: <span style="color: red;"></span></label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.prim_contact_name" class="form-control"  name="prime contact">
					</div>
				</div>
				<!-- <div ng-messages="DriverProfile.MobileNumberID.$error" ng-messages-include="error-messages"></div> -->
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Designation</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.prim_contact_designation" class="form-control">
					</div>
				</div>
				<!-- <div ng-messages="DriverProfile.MobileNumberID.$error" ng-messages-include="error-messages"></div> -->
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Account Contact No.</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="number" ng-model="customerSel.prim_cont_no" class="form-control" ng-maxlength="10" name="Contact No">
					</div>
				</div>
				<!-- <div ng-messages="DriverProfile.MobileNumberID.$error" ng-messages-include="error-messages"></div> -->
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Marketing Contact Name</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.sec_contact_name" class="form-control" name="Second Contact">
					</div>
				</div>
				<!-- <div ng-messages="DriverProfile.MobileNumberID.$error" ng-messages-include="error-messages"></div> -->
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Designation</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.sec_contact_designation" class="form-control">
					</div>
				</div>
				<!-- <div ng-messages="DriverProfile.MobileNumberID.$error" ng-messages-include="error-messages"></div> -->
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Marketing Contact No.</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="number" ng-model="customerSel.sec_cont_no" class="form-control" ng-maxlength="10" name="Contact No.">
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Other Contact No.</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="number" ng-model="customerSel.other_cont_no" class="form-control" ng-maxlength="10" name="Other Contact No">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Account Email</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="email" ng-model="customerSel.prim_email" class="form-control" name="email">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Marketing Email</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input  type="email" ng-model="customerSel.alt_email1" class="form-control">
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Alt. Email 2</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="email" ng-model="customerSel.alt_email2" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Website Address</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.website_address" class="form-control">
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Remarks</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.remarks" class="form-control">
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">Black Listed</label>
				<div class="col-sm-6">
					<label class="checkbox checkbox-inline m-r-20">
						<input type="checkbox" ng-model="customerSel.black_listed">
						<i class="input-helper"></i>
					</label>
				</div>
			</div>
		</div>

		<div class="col-md-4" ng-if="$configs.master.customer.add.required.ecc">
			<div class="form-group m-b-0">
				<label class="col-sm-6 control-label">ECC</label>
				<div class="col-sm-6">
					<div class="fg-line">
						<input type="text" ng-model="customerSel.ecc" class="form-control">
					</div>
				</div>
			</div>
		</div>

		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-4 control-label">Activation Date:</label>
				<div class="col-sm-6">
					<div class="date-picker input-group dp-blue" ng-class="{ 'is-opened': opened3 == true }">
						<div class="fg-line" ng-class="{ 'fg-toggled': opened3 == true }">
							<input ng-click="open($event, 'opened3')" type="text" class="form-control" uib-datepicker-popup="{{format}}" show-weeks="false" ng-model="customerSel.activation_date" is-open="opened3" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" close-text="Close" placeholder="Activation Date"
								   style="padding: 0px 4px;height: 34px;" />
						</div>
						<span class="input-group-btn">
						  <button type="button" class="btn btn-default m-t-0 f12"
								  ng-click="open($event, 'opened3')"><i
								  class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="form-group m-b-0">
				<label class="col-sm-4 control-label">Renewal Date:</label>
				<div class="col-sm-6">
					<div class="date-picker input-group dp-blue" ng-class="{ 'is-opened': opened4 == true }">
						<div class="fg-line" ng-class="{ 'fg-toggled': opened4 == true }">
							<input ng-click="open($event, 'opened4')" type="text" class="form-control" uib-datepicker-popup="{{format}}" show-weeks="false" ng-model="customerSel.renewal_date" is-open="opened4" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" close-text="Close" placeholder="Renewal Date"
								   style="padding: 0px 4px;height: 34px;" />
						</div>
						<span class="input-group-btn">
						  <button type="button" class="btn btn-default m-t-0 f12"
								  ng-click="open($event, 'opened4')"><i
								  class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</div>
				</div>
			</div>
		</div>

	</div>
	<div class="row" style="margin:15px">
		<div class="col-md-12">
			<h4 style="color: black;margin:15px"><b>Bank Details</b></h4>
			<div class="col-sm-2">
				<div class="form-group">
					<div class="fg-line">
						<input type="text" ng-model="banking.bank_name" class="input-sm form-control fg-input" placeholder="Bank Name">
					</div>
				</div>
			</div>
			<div class="col-sm-2">
				<div class="form-group">
					<div class="fg-line">
						<input type="number" ng-model="banking.account_no" class="input-sm form-control" placeholder="A/C No.">
					</div>
				</div>
			</div>
			<div class="col-sm-2">
				<div class="form-group">
					<div class="fg-line">
						<input type="text" ng-model="banking.ifsc_code" class="input-sm form-control fg-input" placeholder="IFS Code">
					</div>
				</div>
			</div>
			<div class="col-sm-2">
				<button ng-click="addBank(banking)" ng-disabled="!(banking.account_no && banking.ifsc_code && banking.bank_name)" class="btn btn-primary waves-effect pointer">
					<i class="zmdi zmdi-plus zmdi-hc-fw"></i>
				</button>
			</div>
			<div class="col-sm-12" style="margin:15px" ng-show="customerSel.bank_details">
				<div class="col-md-12">
					<!--<ul>
						<li class="" ng-repeat="oBank in customerSel.bank_details"> {{oBank.bank_name +" - "+oBank.account_no+" - "+oBank.ifsc_code}} <a class="route_iCityRemove" style="background: #dadada" ng-click="removeBank($index)">x</a></li>
					</ul>-->
					<table class="table table-bordered unresponsive">
						<thead>
						<tr>
							<th>Name</th>
							<th>A/C No.</th>
							<th>IFSC</th>
							<th>Action</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="bank in customerSel.bank_details">
							<td>{{bank.bank_name || 'NA'}}</td>
							<td>{{bank.account_no || 'NA'}}</td>
							<td>{{bank.ifsc_code || 'NA'}}</td>
							<td>
								<a class="route_iCityRemove" style="background: #dadada" ng-click="removeBank($index)">
									<i class="zmdi zmdi-delete"></i>
								</a>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>


	<div class="row">
		<div class="m-l-30 col-md-10">
			<div class="form-group m-b-10">
				<button type="submit" class="btn btn-primary" ng-click="saveCustomerDetails(customerReg)" style="margin-bottom: 12px;">Save</button>
			</div>
		</div>
	</div>
	<div class="col-md-12">
		<h5 style="color: red; text-align: right;">* Mandatory Field....</h5>
	</div>
</form>
