<form name="custUpsert" novalidate autocomplete="off">

	<div class="modal-header">
		<button type="button" ng-click="closeModal()" class="close"
				data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
		<h4 class="modal-title" align="center">
			<span class="c-black"><b>Add Milestone</b>
<!--				<span style="margin-left: 10px; color: rgb(183, 183, 183);">-->
<!--							({{operationType}})-->
<!--						</span>-->
			</span>
		</h4>
	</div>

	<div class="modal-body">
		<div class="justify col-md-12">
			<ul class="list-group list-group-flush">
				<!-- BASIC Billing Party DETAILS -->

				<li class="list-group-item">
					<span class="booking_list_header">BASIC DETAILS</span>
					<div class="card-body">
						<div class="row" style="margin:5px">

							<div class="col-md-2">
								<div class="form-group m-b-0">
									<label class="col-sm-4 control-label"><b>Route:</b> </label>
									<div class="col-sm-8">
										{{selectedCust.route_name}}
									</div>
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group m-b-0">
									<label class="col-sm-4 control-label"><b>Customer:</b> </label>
									<div class="col-sm-8">
										{{selectedCust.customer_name}}
									</div>
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group m-b-0">
									<label class="col-sm-6 control-label"><b>Vehicle Type:</b> </label>
									<div class="col-sm-6">
										{{selectedCust.vehTypeNam}}
									</div>
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group m-b-0">
									<label class="col-sm-6 control-label"><b>Service Type:</b> </label>
									<div class="col-sm-6">
										{{selectedCust.service}}
									</div>
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group m-b-0">
									<label class="col-sm-4 control-label"><b>TAT(hr):</b> </label>
									<div class="col-sm-6">
										{{selectedCust.tat_hr}}
									</div>
								</div>
							</div>

							<div class="clearfix"></div>
						</div>
					</div>
				</li>

				<!-- Items Detail-->
				<li class="list-group-item">
					<div class="col-md-12">
						<div class="col-md-2">
							<span class="booking_list_header">MileStone's Detail</span>
						</div>

						<div class="col-md-2 text-right m-t-5 pull-right">
							&nbsp;&nbsp;
							<button class="btn-primary btn-xs"
									ng-click="selectedCust.milestone.push({})"
									uib-tooltip="Add Item"
									tooltip-placement="bottom">
								<i class="zmdi zmdi-plus zmdi-hc-fw"></i>
							</button>
							&nbsp;&nbsp;
							<button class="btn-danger btn-xs"
									ng-click="remove(selectedIndex)"
									uib-tooltip="Delete Item"
									tooltip-placement="bottom">
								<i class="zmdi zmdi-delete zmdi-hc-fw"></i>
							</button>
						</div>
					</div>
					<div class="clearfix"></div>
					<div class="card-body">
						<div class="row" style="margin:5px">
							<div class="col-md-12" style="overflow: scroll;height: 300px;">
								<table class="table table-bordered unresponsive">
									<thead>
									<tr>
										<th style="min-width: 40px">#</th>
										<th style="min-width: 40px">SN</th>
										<th> Category Type<span class="req_r">*</span></th>
										<th> Milestone Name<span class="req_r">*</span></th>
										<th> TAT(hr)<span class="req_r">*</span></th>
										<th> TAT(min)</th>
										<th> latitude<span class="req_r">*</span></th>
										<th> longitude<span class="req_r">*</span></th>
										<th> Halt</th>
										<th> KM</th>
									</tr>
									</thead>
									<tbody>
									<tr ng-repeat="items in selectedCust.milestone"
										ng-click="onSelect($index)"
										class="pointer"
										ng-class="{grn: selectedIndex === $index}">
										<td>
											<div class="form-group m-b-0">
												<a data-ui-sref="" tooltip-placement="bottom" ng-click="selectedCust.milestone.splice($index, 0, {});"><i class="zmdi zmdi-plus"></i></a>&nbsp;&nbsp;
											</div>
										</td>
										<td>{{$index+1}}</td>

										<td>
											<div style="max-width: 160px;">
												<select chosen
														class="form-control"
														placeholder="category"
														ng-model="items.category"
														ng-options="item as item for item in ['city','toll','parking']"
														name="category"
														required>
													<option value="" disabled selected>
														Select Type
													</option>
												</select>
											</div>
										</td>

										<td>
											<input type="text"
												   placeholder="Milestone Name"
												   ng-model="items.name"
												   class="form-control"
												   ng-required="true"
												   name="Milestone Name">
										</td>
										<td>
											<input type="number"
												   onkeypress="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 46 && event.charCode <= 57"
												   onwheel="return false"
												   onkeydown="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 48 && event.charCode <= 57"
												   ng-model="items.tat_hr"
												   placeholder="TAT(hr)"
												   class="form-control"
												   ng-required="true"
												   name="TAT(hr)">
										</td>

										<td>
											<input type="number"
												   onkeypress="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 46 && event.charCode <= 57"
												   onwheel="return false"
												   onkeydown="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 48 && event.charCode <= 57"
												   ng-model="items.tat_min"
												   placeholder="TAT(min)"
												   class="form-control"
												   ng-required="true"
												   name="TAT(min)">
										</td>


										<td>

											<input type="number"
												   onkeypress="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 46 && event.charCode <= 57"
												   onwheel="return false"
												   onkeydown="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 48 && event.charCode <= 57"
												   ng-model="items.location.lat"
												   placeholder="latitude"
												   class="form-control"
												   ng-required="true"
												   name="latitude">
										</td>

										<td>

											<input type="number"
												   onkeypress="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 46 && event.charCode <= 57"
												   onwheel="return false"
												   onkeydown="return ((event.which != 40) && (event.charCode == 8 || event.charCode == 0 || event.charCode == 13)) ? null : event.charCode >= 48 && event.charCode <= 57"
												   ng-model="items.location.lng"
												   placeholder="longitude"
												   class="form-control"
												   ng-required="true"
												   name="longitude">
										</td>

										<td >
											<input type="number"
												   ng-model="items.halt_d"
												   placeholder="Halt"
												   class="form-control"
												   name="halt">
										</td>
										<td >
											<input type="number"
												   ng-model="items.tat_km"
												   placeholder="Km"
												   class="form-control"
												   name="halt">
										</td>
									</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>

	<div class="modal-footer">
		<button class="btn btn-primary"
				type="button"
				ng-click="submit(custUpsert)">SUBMIT</button>
		<button class="btn btn-warning"
				type="button"
				ng-click="closeModal()">Close
		</button>
	</div>

</form>


<style>

	form .col-md-3 {
		min-height: 50px;
	}

	.container {
		width: 98% !important;
	}

	.modal-dialog {
		width: 90%;
	}

</style>
